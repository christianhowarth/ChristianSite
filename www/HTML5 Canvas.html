<html>
 
 <head>
 <title>HTML5 Canvas</title>
 
 <script>
 
  var x = 10;
  var playerImage;
  var frameNumber = 0;
  var PlayerPosX = 0;
  
  function load()
  {
   // allocate new image, assign to our variable 
   playerImage = new Image();
   
   // set src of image
   playerImage.src = "images/player.png";
   
  }
 
 function main()
 {
 load();
 
  // get a ref to our canvas
  var canvas = document.getElementById("canvas");
  
  //set width and height of canvas
  canvas.width = 640;
  canvas.height = 480;
  
  // create a 2D drawing context
  var ctx = canvas.getContext("2d");
  
  //call our draw function
  draw(ctx);
  
 }
 function keydown(event)
 {
      if (event.key == "ArrowLeft")
     {
      PlayerPosX--;
     }
 
 else if (event.key == "ArrowRight")
 {
      PlayerPosX++;
 }
 }
 
 function draw(ctx)
 {
 // make clear
 ctx.fillStyle = "gray";
 ctx.fillRect(0,0, ctx.canvas.width, ctx.canvas.height);
 
 var frameWidth = playerImage.width / 5;
 var frameHeight = playerImage.height / 4;
 
 //draw my image
 ctx.drawImage(playerImage, 
 frameNumber * frameWidth, 0, frameWidth, frameHeight,
 PlayerPosX, 0, 200, 200)

 
 // fill an area in top left of canvas
 
 x++;
 if (x % 10 == 0)
 {
  frameNumber++;
 }
 
 if (frameNumber > 4)
 {
  frameNumber = 0;
 }
 
 //ask browser to call this function again asap
 window.requestAnimationFrame(function(){draw(ctx);});
 }
 
 
 window.onload = main;
 window.addEventListener("keydown", keydown);
 
 </script>
 
 </head>
 <body>
 <canvas id="canvas" style="background: grey"></canvas>
 </body>

</html>
